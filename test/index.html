<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<div class="travelbox">
  
</div>

<script type="text/javascript">

// MOD 設定
var travelbox = document.querySelector('.travelbox');
// 資料 設定
var data = [0,0];
var xhr = new XMLHttpRequest();
xhr.open('get','https://opendata.epa.gov.tw/ws/Data/ATM00698/?$format=json',true);
xhr.send(null);
xhr.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
      myFunction();
    }else{
      travelbox.innerHTML = "沒法連接資料庫 status: " + xhr.status + " readyState: " + xhr.readyState;
    }
  }
  function myFunction() {
    var area= [];
    var arealist= [];
    var str = '';
    data = JSON.parse(xhr.responseText);
    data = data.result.records;
    console.log(data);
     for (var i = 0; i < data.length; i++) {
      str += '<li> test:' + data[i].Tel + '.</li>'
    }
    console.log(str);
    travelbox.innerHTML = str;
  }
</script>
</body>
</html>
